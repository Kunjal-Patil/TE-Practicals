import streamlit as st
import pandas as pd
import os

st.set_page_config(page_title="Student Dashboard", layout="wide")

# --- Create/Load CSV file ---
if not os.path.exists("data.csv"):
    df = pd.DataFrame(columns=["Name", "Roll No", "Department", "Email"])
    df.to_csv("data.csv", index=False)

# --- Sidebar Navigation ---
st.sidebar.title("ğŸ“š Student Dashboard")
page = st.sidebar.radio("Navigate to", ["ğŸ  Home", "ğŸ§¾ Student Form", "ğŸ“Š Student Data"])

# --- HOME PAGE ---
if page == "ğŸ  Home":
    st.title("ğŸ“ Welcome to Student Dashboard")
    st.markdown("""
    This simple web app is built using Streamlit to demonstrate:
    - Multi-page navigation  
    - User input handling  
    - Data persistence using CSV  
    - Table display and filters  

    Use the sidebar to navigate between pages.  
    """)

# --- STUDENT FORM PAGE ---
elif page == "ğŸ§¾ Student Form":
    st.title("ğŸ§¾ Enter Student Details")

    with st.form("student_form", clear_on_submit=True):
        name = st.text_input("Enter Full Name")
        roll = st.text_input("Enter Roll No")
        dept = st.selectbox("Select Department", ["Computer", "IT", "Mechanical", "Civil", "ENTC"])
        email = st.text_input("Enter Email")
        submit = st.form_submit_button("Submit Details")

        if submit:
            if name and roll and dept and email:
                df = pd.read_csv("data.csv")
                new_data = pd.DataFrame([[name, roll, dept, email]], columns=df.columns)
                df = pd.concat([df, new_data], ignore_index=True)
                df.to_csv("data.csv", index=False)
                st.success(f"âœ… Student record for {name} added successfully!")
                st.balloons()
            else:
                st.warning("âš  Please fill in all fields before submitting.")

# --- STUDENT DATA PAGE ---
elif page == "ğŸ“Š Student Data":
    st.title("ğŸ“Š Student Records")

    df = pd.read_csv("data.csv")

    if df.empty:
        st.info("No student records found. Please add some from the Student Form page.")
    else:
        dept_filter = st.selectbox("Filter by Department", ["All"] + df["Department"].unique().tolist())
        if dept_filter != "All":
            df = df[df["Department"] == dept_filter]
        st.dataframe(df, use_container_width=True)
        if st.download_button("ğŸ“¥ Download Data as CSV", df.to_csv(index=False), "students.csv", "text/csv"):
            st.snow()

        st.markdown("### Summary Statistics")

        st.write(f"Total Students: {len(df)}")
pip install streamlit
python3 -m venv venv
source venv/bin/activate
